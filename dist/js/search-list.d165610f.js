(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search-list"],{"0e4c":function(e,t,i){"use strict";i("1608")},1608:function(e,t,i){},"17b3":function(e,t,i){},"2b5d":function(e,t,i){"use strict";var n=i("53ca"),a=i("5530"),r=(i("d3b7"),i("25f0"),i("7db0"),i("8a79"),i("fb6a"),i("b0c0"),i("caad"),i("2532"),i("c740"),i("a434"),i("2bfd"),i("b974")),s=i("c6a6"),o=i("80d2");t["a"]=s["a"].extend({name:"v-combobox",props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{computedCounterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return r["a"].options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty:function(){return null!=this.internalSearch}},methods:{onInternalSearchChanged:function(e){if(e&&this.multiple&&this.delimiters.length){var t=this.delimiters.find((function(t){return e.endsWith(t)}));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genInput:function(){var e=s["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data.on.paste=this.onPaste,e},genChipSelection:function(e,t){var i=this,n=r["a"].options.methods.genChipSelection.call(this,e,t);return this.multiple&&(n.componentOptions.listeners=Object(a["a"])(Object(a["a"])({},n.componentOptions.listeners),{},{dblclick:function(){i.editingIndex=t,i.internalSearch=i.getText(e),i.selectedIndex=-1}})),n},onChipInput:function(e){r["a"].options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown:function(e){e.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onFilteredItemsChanged:function(e,t){this.autoSelectFirst&&s["a"].options.methods.onFilteredItemsChanged.call(this,e,t)},onKeyDown:function(e){var t=e.keyCode;!e.ctrlKey&&[o["x"].home,o["x"].end].includes(t)||r["a"].options.methods.onKeyDown.call(this,e),this.multiple&&t===o["x"].left&&0===this.$refs.input.selectionStart?this.updateSelf():t===o["x"].enter&&this.onEnterDown(e),this.changeSelectedIndex(t)},onTabDown:function(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();s["a"].options.methods.onTabDown.call(this,e)},selectItem:function(e){this.editingIndex>-1?this.updateEditing():(s["a"].options.methods.selectItem.call(this,e),this.internalSearch&&this.multiple&&this.getText(e).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(e){var t;r["a"].options.methods.setValue.call(this,null!=(t=e)?t:this.internalSearch)},updateEditing:function(){var e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox:function(){if(this.searchIsDirty){this.internalSearch!==this.getText(this.internalValue)&&this.setValue();var e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&(this.internalSearch=null)}},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var e=this,t=this.getMenuIndex();if(!(t<0&&!this.searchIsDirty||!this.internalSearch)){if(this.editingIndex>-1)return this.updateEditing();var i=this.selectedItems.findIndex((function(t){return e.internalSearch===e.getText(t)})),a=i>-1&&"object"===Object(n["a"])(this.selectedItems[i])?Object.assign({},this.selectedItems[i]):this.internalSearch;if(i>-1){var r=this.internalValue.slice();r.splice(i,1),this.setValue(r)}if(t>-1)return this.internalSearch=null;this.selectItem(a),this.internalSearch=null}},onPaste:function(e){var t;if(this.multiple&&!this.searchIsDirty){var i=null==(t=e.clipboardData)?void 0:t.getData("text/vnd.vuetify.autocomplete.item+plain");i&&-1===this.findExistingIndex(i)&&(e.preventDefault(),r["a"].options.methods.selectItem.call(this,i))}},clearableCallback:function(){this.editingIndex=-1,s["a"].options.methods.clearableCallback.call(this)}}})},"2bfd":function(e,t,i){},"7c66":function(e,t,i){},"875f":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("SearchFilter",{directives:[{name:"show",rawName:"v-show",value:!e.showResults,expression:"!showResults"}],on:{search:function(t){return e.showSearchResults(t)}}}),i("SearchListView",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"}],attrs:{tenders:e.tenders,meta:e.meta,loading:e.loading},on:{"update:meta":function(t){e.meta=t},"update:loading":function(t){e.loading=t},pageChange:e.showSearchResults,back:function(t){return e.returnBackToFilters()}}})],1)},a=[],r=i("1da1"),s=(i("96cf"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-card",{attrs:{width:"100%"}},[i("v-form",{ref:"form"},[i("v-card-text",[i("v-combobox",{staticClass:"mb-2",attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Номер извещения"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("notificationNumbers",n)}}},[e._v("mdi-close")])],1)]}}]),model:{value:e.notificationNumbers,callback:function(t){e.notificationNumbers=t},expression:"notificationNumbers"}}),i("v-combobox",{staticClass:"mb-2",attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Ключевые слова"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("keyword",n)}}},[e._v("mdi-close")])],1)]}}]),model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("v-combobox",{attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Слова исключения"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("exceptionalKeywords",n)}}},[e._v("mdi-close")])],1)]}}]),model:{value:e.exceptionalKeywords,callback:function(t){e.exceptionalKeywords=t},expression:"exceptionalKeywords"}}),i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-autocomplete",{attrs:{outlined:"",multiple:"",label:"Государственные, коммерческие закупки",items:e.govermentPurchases},model:{value:e.govermentPurchaceList,callback:function(t){e.govermentPurchaceList=t},expression:"govermentPurchaceList"}}),i("v-autocomplete",{attrs:{outlined:"",multiple:"",label:"Этап закупки",items:e.purchasesSteps},model:{value:e.purchaseStepList,callback:function(t){e.purchaseStepList=t},expression:"purchaseStepList"}}),i("v-row",{staticClass:"px-3"},[i("v-autocomplete",{attrs:{loading:e.okpdLoading,"search-input":e.okpdSearch,items:e.okpds,filter:e.okpdFilters,"item-text":"name","item-value":"code",multiple:"",label:"ОКПД2",outlined:""},on:{"update:searchInput":function(t){e.okpdSearch=t},"update:search-input":function(t){e.okpdSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.code)}})],1)]}}]),model:{value:e.okpdList,callback:function(t){e.okpdList=t},expression:"okpdList"}}),i("v-checkbox")],1),i("v-autocomplete",{attrs:{items:e.customers,multiple:"",filter:e.customerFilters,loading:e.customerLoading,"search-input":e.customerSearch,"item-text":"full_name","item-value":"id",label:"Заказчик",outlined:""},on:{"update:searchInput":function(t){e.customerSearch=t},"update:search-input":function(t){e.customerSearch=t}},model:{value:e.customerList,callback:function(t){e.customerList=t},expression:"customerList"}}),i("v-autocomplete",{attrs:{items:e.organizers,multiple:"",filter:e.ogranizerFilters,loading:e.organizerLoading,"search-input":e.organizerSearch,"item-text":"full_name","item-value":"id",label:"Организатор",outlined:""},on:{"update:searchInput":function(t){e.organizerSearch=t},"update:search-input":function(t){e.organizerSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.short_name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.id)}})],1)]}}]),model:{value:e.organizerList,callback:function(t){e.organizerList=t},expression:"organizerList"}}),i("v-row",{staticClass:"px-3"},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-text-field",e._g(e._b({attrs:{outlined:"",max:e.dateTo,label:"От","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menuFrom,callback:function(t){e.menuFrom=t},expression:"menuFrom"}},[i("v-date-picker",{on:{input:function(t){e.menuFrom=!1}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-text-field",e._g(e._b({attrs:{outlined:"",label:"До","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menuTo,callback:function(t){e.menuTo=t},expression:"menuTo"}},[i("v-date-picker",{on:{input:function(t){e.menuTo=!1}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1)],1),i("v-radio-group",{attrs:{label:"Ограничение по СМП"},model:{value:e.smpLimitation,callback:function(t){e.smpLimitation=t},expression:"smpLimitation"}},e._l(e.smpLimitations,(function(e){return i("v-radio",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),i("v-col",{attrs:{cols:"6"}},[i("v-autocomplete",{attrs:{items:e.orderTypes,multiple:"",label:"Способ проведения закупки",outlined:""},model:{value:e.orderTypeList,callback:function(t){e.orderTypeList=t},expression:"orderTypeList"}}),i("v-autocomplete",{attrs:{items:e.regions,multiple:"",label:"Регионы",outlined:""},model:{value:e.regionsList,callback:function(t){e.regionsList=t},expression:"regionsList"}}),i("v-row",{staticClass:"px-3"},[i("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-currency-rub",label:"От"},model:{value:e.priceFrom,callback:function(t){e.priceFrom=t},expression:"priceFrom"}}),i("v-text-field",{attrs:{"prepend-icon":"mdi-currency-rub",outlined:"",label:"До"},model:{value:e.priceTo,callback:function(t){e.priceTo=t},expression:"priceTo"}}),i("v-checkbox",{attrs:{label:"Без цены"},model:{value:e.hasNoPrice,callback:function(t){e.hasNoPrice=t},expression:"hasNoPrice"}})],1),i("v-autocomplete",{attrs:{items:e.participants,filter:e.partisipantFilters,loading:e.partisipantLoading,"search-input":e.partisipantSearch,"item-text":"name","item-value":"inn",multiple:"",label:"Участники",outlined:""},on:{"update:searchInput":function(t){e.partisipantSearch=t},"update:search-input":function(t){e.partisipantSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.inn)}})],1)]}}]),model:{value:e.partisipantList,callback:function(t){e.partisipantList=t},expression:"partisipantList"}}),i("v-autocomplete",{attrs:{items:e.winners,multiple:"",label:"Победитель",outlined:""},model:{value:e.winnerList,callback:function(t){e.winnerList=t},expression:"winnerList"}}),i("v-autocomplete",{attrs:{items:e.placements,multiple:"","item-text":"text","item-value":"value",label:"ЭТП",outlined:""},model:{value:e.placementList,callback:function(t){e.placementList=t},expression:"placementList"}}),i("v-checkbox",{attrs:{label:"Исключить мои тендеры"},model:{value:e.exceptMyTenders,callback:function(t){e.exceptMyTenders=t},expression:"exceptMyTenders"}})],1)],1)],1),i("v-card-actions",[i("v-row",{staticClass:"px-3 justify-start"},[i("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.submit()}}},[e._v("Найти "),i("v-icon",{attrs:{right:""}},[e._v("mdi-magnify")])],1)],1),i("v-row",{staticClass:"px-3 justify-end"},[i("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.clear()}}},[e._v("Сбросить")])],1)],1)],1)],1)}),o=[],c=(i("d81d"),i("c740"),i("a434"),i("b0c0"),i("922e")),l=i("c1df"),u=i.n(l),d=500,p=40,h=3,m={data:function(){return{priceFrom:null,priceTo:null,hasNoPrice:!1,notificationNumbers:[],keyword:[],exceptionalKeywords:[],okpds:[],okpdList:[],okpdLoading:!1,okpdSearch:null,okpdDebouncer:null,govermentPurchases:[],govermentPurchaceList:[],purchasesSteps:[],purchaseStepList:[],organizers:[],organizerList:[],organizerLoading:null,organizerSearch:null,organizerDebouncer:null,customers:[],customerList:[],customerLoading:null,customerSearch:null,customerDebouncer:null,orderTypes:[],orderTypeList:[],regions:[],regionsList:[],participants:[],partisipantList:[],partisipantLoading:null,partisipantSearch:null,partisipantDebouncer:null,winners:[],winnerList:[],placements:[],placementList:[],dateFrom:null,menuFrom:!1,dateTo:null,menuTo:!1,smpLimitations:[],smpLimitation:1,exceptMyTenders:!0}},watch:{okpdSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<h)){i.next=2;break}return i.abrupt("return");case 2:t.getOKPD();case 3:case"end":return i.stop()}}),i)})))()},customerSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<h)){i.next=2;break}return i.abrupt("return");case 2:t.getCustomers();case 3:case"end":return i.stop()}}),i)})))()},organizerSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<h)){i.next=2;break}return i.abrupt("return");case 2:t.getOrganizers();case 3:case"end":return i.stop()}}),i)})))()},partisipantSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<h)){i.next=2;break}return i.abrupt("return");case 2:t.getParticipants();case 3:case"end":return i.stop()}}),i)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dateFrom=u()().subtract(1,"month").format("YYYY-MM-DD"),e.dateTo=u()().format("YYYY-MM-DD"),t.next=4,e.spreadFieldData();case 4:case"end":return t.stop()}}),t)})))()},methods:{spreadFieldData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r,s,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["h"])();case 2:i=t.sent,n=i.data.data,a=n.etp,r=n.ways,s=n.states,o=n.types,l=n.limits,u=n.regions,e.regions=u,e.orderTypes=r,e.placements=a,e.orderTypes=r,e.purchasesSteps=s,e.smpLimitations=l,e.govermentPurchases=o;case 11:case"end":return t.stop()}}),t)})))()},getOKPD:function(){var e=this;this.okpdLoading||(clearTimeout(this.okpdDebouncer),this.okpdLoading=!0,this.okpdDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["k"])(e.okpdSearch);case 2:i=t.sent,n=i.data.data,e.okpds=e.trimSearchData(n,"name"),e.okpdLoading=!1;case 6:case"end":return t.stop()}}),t)}))),d))},getOrganizers:function(){var e=this;this.organizerLoading||(clearTimeout(this.organizerDebouncer),this.organizerLoading=!0,this.organizerDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["i"])(e.organizerSearch);case 2:i=t.sent,n=i.data.data,e.organizers=e.trimSearchData(n,"short_name"),e.organizerLoading=!1;case 6:case"end":return t.stop()}}),t)}))),d))},getCustomers:function(){var e=this;this.customerLoading||(clearTimeout(this.customerDebouncer),this.customerLoading=!0,this.customerDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["i"])(e.customerSearch);case 2:i=t.sent,n=i.data.data,e.customers=e.trimSearchData(n,"short_name"),e.customerLoading=!1;case 6:case"end":return t.stop()}}),t)}))),d))},getParticipants:function(){var e=this;this.partisipantLoading||(clearTimeout(this.partisipantDebouncer),this.partisipantLoading=!0,this.partisipantDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["m"])(e.partisipantSearch);case 2:i=t.sent,n=i.data.data,e.participants=e.trimSearchData(n,"name"),e.partisipantLoading=!1;case 6:case"end":return t.stop()}}),t)}))),d))},trimSearchData:function(e,t){return e.map((function(e){return e[t]&&e[t].length>p&&(e[t]=e[t].substring(0,p)+"..."),e}))},dropItem:function(e,t){var i=this[e].findIndex((function(e){return e===t}));this[e].splice(i,1)},submit:function(){var e=this.winnerList,t=this.notificationNumbers,i=this.keyword,n=this.exceptionalKeywords,a=this.govermentPurchaceList,r=this.purchaseStepList,s=this.organizerList,o=this.customerList,c=this.orderTypeList,l=this.okpdList,u=this.regionsList,d=this.partisipantList,p=this.placementList,h=this.smpLimitation,m=this.exceptMyTenders,v=this.priceFrom,f=this.priceTo,g=this.hasNoPrice,b=this.dateFrom,x=this.dateTo,w={filter:{participant:d,etp:p,price_from:v,price_to:f,state:r,region:u,way:c,organisation:s,date_from:b,date_to:x,ignore:n,type:a,okpd2:l,winnerList:e,notificationNumbers:t,keyword:i,organizerList:s,customerList:o,smpLimitation:h,exceptMyTenders:m,hasNoPrice:g}};this.$emit("search",w)},clear:function(){this.winnerList=[],this.notificationNumbers=[],this.keyword=[],this.exceptionalKeywords=[],this.govermentPurchaceList=[],this.purchaseStepList=[],this.organizerList=[],this.customerList=[],this.orderTypeList=[],this.regionsList=[],this.partisipantList=[],this.placementList=[],this.smpLimitation=1,this.exceptMyTenders=!0,this.priceFrom=null,this.priceTo=null,this.hasNoPrice=!1,this.dateFrom=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.dateTo=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},okpdFilters:function(e,t,i){var n=e.code.toLowerCase(),a=e.name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},ogranizerFilters:function(e,t,i){var n=e.full_name.toLowerCase(),a=e.short_name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},customerFilters:function(e,t,i){var n=e.full_name.toLowerCase(),a=e.short_name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},partisipantFilters:function(e,t,i){var n=e.name.toLowerCase(),a=e.inn.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1}}},v=m,f=i("2877"),g=i("6544"),b=i.n(g),x=i("c6a6"),w=i("8336"),_=i("b0afa"),y=i("99d9"),L=i("ac7c"),k=i("62ad"),S=i("2b5d"),T=i("2e4b"),C=i("4bd4"),I=i("132d"),O=i("5d23"),D=i("e449"),V=i("67b6"),F=i("43a6"),j=i("0fd9"),z=i("8654"),P=Object(f["a"])(v,s,o,!1,null,null,null),R=P.exports;b()(P,{VAutocomplete:x["a"],VBtn:w["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCheckbox:L["a"],VCol:k["a"],VCombobox:S["a"],VDatePicker:T["a"],VForm:C["a"],VIcon:I["a"],VListItemContent:O["b"],VListItemSubtitle:O["c"],VListItemTitle:O["d"],VMenu:D["a"],VRadio:V["a"],VRadioGroup:F["a"],VRow:j["a"],VTextField:z["a"]});var N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-row",[i("v-toolbar",[i("v-btn",{staticClass:"mr-2",attrs:{outlined:"",depressed:""},on:{click:function(t){return e.goBack()}}},[i("v-icon",[e._v("mdi-arrow-left")])],1),i("v-row",{staticClass:"ml-0"},[e._v("Найдено тендеров: "+e._s(e.meta.pagination.total)+" ")])],1)],1),i("v-row",{attrs:{justify:"space-between"}},[i("v-col",{staticClass:"pl-0 pr-1",attrs:{cols:"6"}},[i("v-card",{attrs:{loading:e.loading}},[i("v-card-title",[i("v-row",{attrs:{justify:"center"}},[i("v-pagination",{attrs:{length:e.meta.pagination.total_pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right","total-visible":6},on:{input:function(t){return e.$emit("pageChange")}},model:{value:e.meta.pagination.current_page,callback:function(t){e.$set(e.meta.pagination,"current_page",t)},expression:"meta.pagination.current_page"}})],1)],1),e._l(e.tenders,(function(t){return i("v-card-text",{key:t.id,on:{click:function(i){return e.openTender(t)}}},[i("v-card",{directives:[{name:"show",rawName:"v-show",value:!e.isCurrentTender(t),expression:"!isCurrentTender(t)"}],staticClass:"mb-3 pointer",attrs:{outlined:""}},[i("v-row",{staticClass:"d-flex px-3 justify-space-between pr-4"},[i("v-card-title",{attrs:{width:"80%"}},[e._v(" "+e._s(t.subject)+" ")]),i("v-card-actions",[i("v-icon",{attrs:{color:"amber accent-3"},on:{click:function(i){return e.toggleFav(i,t)}}},[e._v(e._s(e.getStar(t.id))+" ")])],1)],1),i("v-card-subtitle",[e._v(" "+e._s(t.organisation.short_name)+" ")]),i("v-card-text",[i("div",[i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-map-marker")]),e._v(" "+e._s(t.region_id)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-file")]),e._v(" N"+e._s(t.placing_way.subsystem_name)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-bank")]),e._v(" "+e._s(e.getShortName(t))+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-gavel")]),e._v(" "+e._s(t.placing_way.type_name)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-content-copy")]),e._v(" "+e._s(t.id)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[e._v(e._s(t.state.name)+" ")]),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[e._v("закончится "+e._s(e._f("toNow")(t.end_at))+" ")])],1),i("div",{staticClass:"d-flex justify-end"},[i("v-btn",{staticClass:"text-end",attrs:{outlined:"",depressed:"","x-small":""}},[e._v(e._s(t.max_price)+" "),i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-currency-rub ")])],1)],1)])],1),i("v-card",{directives:[{name:"show",rawName:"v-show",value:e.isCurrentTender(t),expression:"isCurrentTender(t)"}],staticClass:"mb-3",attrs:{outlined:""}},[i("v-card-text",[i("v-row",{attrs:{justify:"center"}},[i("v-btn",{attrs:{disabled:"",color:"primary"}},[e._v("В работу")])],1)],1)],1)],1)}))],2)],1),i("v-col",{staticClass:"pr-0 pl-1",attrs:{cols:"6"}},[e.currentTender?i("v-card",[i("v-card-title",[e._v(" "+e._s(e.currentTender.subject)+" ")]),i("v-card-subtitle",[e._v(" "+e._s(e.currentTender.organisation.short_name)+" ")]),i("v-card-text",[i("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t){return i("v-tab",{key:t.id},[e._v(" "+e._s(t.text)+" ")])})),1),i("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("v-tab-item",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v(" Сведения о закупке ")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Наименование: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.currentTender.subject)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Способ проведения: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.currentTender.placing_way.name)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Заказчик: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.currentTender.organisation.short_name)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Начальная стоимость: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.currentTender.max_price)+" "),i("v-icon",{attrs:{color:"grey",size:"14"}},[e._v("mdi-currency-rub")])],1)],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Статус: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.currentTender.state.name)+" ")])],1)],1)],1),i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v(" Сведения о сроках ")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Публикация извещения: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e._f("formatDate")(e.currentTender.published_at,"lll"))+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Окончание сбора заявок: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e._f("formatDate")(e.currentTender.end_at,"lll"))+" ")])],1)],1)],1)],1),i("v-tab-item",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-text",[e.currentTender.events.length?i("div",e._l(e.currentTender.events,(function(t,n){return i("div",{key:n},e._l(t.attachments,(function(n,a){return i("div",{key:a,staticClass:"my-2"},[i("v-icon",{staticClass:"mr-1"},[e._v("mdi-file-word")]),i("a",{attrs:{href:n.href}},[e._v(e._s(t.name))])],1)})),0)})),0):e._e(),e.currentTender.attachments.length?i("div",e._l(e.currentTender.attachments,(function(t){return i("div",{key:t.id,staticClass:"my-2"},[i("v-icon",{staticClass:"mr-1"},[e._v("mdi-file-word")]),i("a",{attrs:{href:t.href}},[e._v(e._s(t.name))])],1)})),0):i("div",[i("h3",{staticClass:"text-center mt-4"},[e._v(" Документация по закупке отсутствует ")])])])],1)],1),i("v-tab-item",[e.currentTender.events.length?i("div",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v("Журнал событий")]),i("v-card-text",e._l(e.currentTender.events,(function(t,n){return i("div",{key:n},[i("div",[e._v(" "+e._s(t.name)+" | "+e._s(e._f("formatDate")(t.published_at,"lll"))+" ")]),i("v-divider")],1)})),0)],1)],1):e._e(),i("h3",{staticClass:"text-center mt-4"},[e._v("События отсутствуют")])])],1)],1),i("v-card-text")],1):i("v-card",[i("v-card-title",[e._v(" Выберите тендер ")]),i("v-card-text")],1)],1)],1)],1)},M=[],$={props:{tenders:{type:Array,required:!0},meta:{type:Object,required:!0},loading:{type:Boolean,required:!0}},data:function(){return{tab:null,tabs:[{text:"Информация",id:1},{text:"Документация",id:2},{text:"События",id:3}],currentTender:null,favedTenders:[]}},computed:{},watch:{favedTenders:function(e){localStorage.setItem("favedTenders",JSON.stringify(e))}},mounted:function(){this.favedTenders=JSON.parse(localStorage.getItem("favedTenders"))||[]},methods:{goBack:function(){this.$emit("back"),this.currentTender=null},isCurrentTender:function(e){return!!this.currentTender&&this.currentTender.id===e.id},getStar:function(e){return-1!==this.favedTenders.findIndex((function(t){return t.id===e}))?"mdi-star":"mdi-star-outline"},openTender:function(e){this.currentTender=e,this.tab=null},getShortName:function(e){var t;return null===e||void 0===e||null===(t=e.etp)||void 0===t?void 0:t.short_name},toggleFav:function(e,t){e.stopPropagation();var i=t.id,n=this.favedTenders.findIndex((function(e){return e.id===i}));-1===n?this.favedTenders.push(t):this.favedTenders.splice(n,1),console.log(this.favedTenders)}}},B=$,A=(i("0e4c"),i("ce7e")),K=i("891e"),E=i("71a3"),Y=i("c671"),H=i("fe57"),W=i("aac8"),U=i("71d9"),q=Object(f["a"])(B,N,M,!1,null,null,null),J=q.exports;b()(q,{VBtn:w["a"],VCard:_["a"],VCardActions:y["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCardTitle:y["d"],VCol:k["a"],VDivider:A["a"],VIcon:I["a"],VPagination:K["a"],VRow:j["a"],VTab:E["a"],VTabItem:Y["a"],VTabs:H["a"],VTabsItems:W["a"],VToolbar:U["a"]});var G={components:{SearchFilter:R,SearchListView:J},data:function(){return{filters:null,showResults:!1,loading:!1,tenders:[],meta:{pagination:{total:0,total_pages:0,current_page:1}}}},methods:{showSearchResults:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.loading=!0,t.filters&&!e||(t.filters=e),i.next=4,Object(c["x"])(t.filters,t.meta.pagination.current_page);case 4:n=i.sent,t.tenders=n.data.data,t.meta=n.data.meta,t.showResults=!0,t.loading=!1;case 9:case"end":return i.stop()}}),i)})))()},returnBackToFilters:function(){this.showResults=!1,this.resetPagination(),this.filters=null,console.info({sh:this.showResults,cp:this.meta.pagination,fil:this.filters})},resetPagination:function(){this.meta.pagination.current_page=1,this.meta.pagination.total_pages=0,this.meta.pagination.total=0}}},Q=G,X=i("a523"),Z=Object(f["a"])(Q,n,a,!1,null,null,null);t["default"]=Z.exports;b()(Z,{VContainer:X["a"]})},"891e":function(e,t,i){"use strict";var n=i("2909"),a=i("5530"),r=(i("a9e3"),i("99af"),i("d3b7"),i("25f0"),i("d81d"),i("17b3"),i("9d26")),s=i("dc22"),o=i("a9ad"),c=i("de2c"),l=i("7560"),u=i("58df");t["a"]=Object(u["a"])(o["a"],Object(c["a"])({onVisible:["init"]}),l["a"]).extend({name:"v-pagination",directives:{Resize:s["b"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(e){return e%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(a["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var e=parseInt(this.totalVisible,10);if(0===e)return[];var t=Math.min(Math.max(0,e)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);var i=t%2===0?1:0,a=Math.floor(t/2),r=this.length-a+1+i;if(this.value>a&&this.value<r){var s=1,o=this.length,c=this.value-a+2,l=this.value+a-2-i,u=c-1===s+1?2:"...",d=l+1===o-1?l+1:"...";return[1,u].concat(Object(n["a"])(this.range(c,l)),[d,this.length])}if(this.value===a){var p=this.value+a-1-i;return[].concat(Object(n["a"])(this.range(1,p)),["...",this.length])}if(this.value===r){var h=this.value-a+1;return[1,"..."].concat(Object(n["a"])(this.range(h,this.length)))}return[].concat(Object(n["a"])(this.range(1,a)),["..."],Object(n["a"])(this.range(r,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return e.selected=e.value}),100)},onResize:function(){var e=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next:function(e){e.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(e){e.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(e,t){var i=[];e=e>0?e:1;for(var n=e;n<=t;n++)i.push(n);return i},genIcon:function(e,t,i,n,a){return e("li",[e("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":a},on:i?{}:{click:n}},[e(r["a"],[t])])])},genItem:function(e,t){var i=this,n=t===this.value&&(this.color||"primary"),a=t===this.value,r=a?this.currentPageAriaLabel:this.pageAriaLabel;return e("button",this.setBackgroundColor(n,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(r,t)},on:{click:function(){return i.$emit("input",t)}}}),[t.toString()])},genItems:function(e){var t=this;return this.items.map((function(i,n){return e("li",{key:n},[isNaN(Number(i))?e("span",{class:"v-pagination__more"},[i.toString()]):t.genItem(e,i)])}))},genList:function(e,t){return e("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render:function(e){var t=[this.genIcon(e,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(e),this.genIcon(e,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return e("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(e,t)])}})},c6a6:function(e,t,i){"use strict";var n=i("5530"),a=(i("d81d"),i("4de4"),i("498a"),i("7db0"),i("caad"),i("2532"),i("2bfd"),i("b974")),r=i("8654"),s=i("d9f7"),o=i("80d2"),c=Object(n["a"])(Object(n["a"])({},a["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1});t["a"]=a["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(e,t,i){return i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:a["a"].options.props.menuProps.type,default:function(){return c}},noFilter:Boolean,searchInput:{type:String}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},a["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var e=this;return this.selectedItems.map((function(t){return e.getValue(t)}))},hasDisplayedItems:function(){var e=this;return this.hideSelected?this.filteredItems.some((function(t){return!e.hasItem(t)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var e=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(t){var i=Object(o["r"])(t,e.itemText),n=null!=i?String(i):"";return e.filter(t,String(e.internalSearch),n)}))},internalSearch:{get:function(){return this.lazySearch},set:function(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var e=a["a"].options.computed.$_menuProps.call(this);return e.contentClass="v-autocomplete__content ".concat(e.contentClass||"").trim(),Object(n["a"])(Object(n["a"])({},c),e)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var e=this;return this.multiple?null:this.selectedItems.find((function(t){return e.valueComparator(e.getValue(t),e.getValue(e.internalValue))}))},listData:function(){var e=a["a"].options.computed.listData.call(this);return e.props=Object(n["a"])(Object(n["a"])({},e.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.blur(),this.updateSelf())},isMenuActive:function(e){!e&&this.hasSlot&&(this.lazySearch=null)},items:function(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput:function(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},destroyed:function(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged:function(e,t){var i=this;e!==t&&(this.setMenuIndex(-1),this.$nextTick((function(){i.internalSearch&&(1===e.length||i.autoSelectFirst)&&(i.$refs.menu.getTiles(),i.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(e){this.searchIsDirty||(this.multiple&&e===o["x"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===o["x"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==o["x"].backspace&&e!==o["x"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var e=this.selectedIndex,t=this.selectedItems[e];if(this.isInteractive&&!this.getDisabled(t)){var i=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===i){var n=this.selectedItems.length,a=e!==n-1?e:e-1,r=this.selectedItems[a];r?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=a}else this.selectedIndex=i}},clearableCallback:function(){this.internalSearch=null,a["a"].options.methods.clearableCallback.call(this)},genInput:function(){var e=r["a"].options.methods.genInput.call(this);return e.data=Object(s["a"])(e.data,{attrs:{"aria-activedescendant":Object(o["p"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(o["p"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot:function(){var e=a["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections:function(){return this.hasSlot||this.multiple?a["a"].options.methods.genSelections.call(this):[]},onClick:function(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput:function(e){if(!(this.selectedIndex>-1)&&e.target){var t=e.target,i=t.value;t.value&&this.activateMenu(),this.internalSearch=i,this.badInput=t.validity&&t.validity.badInput}},onKeyDown:function(e){var t=e.keyCode;!e.ctrlKey&&[o["x"].home,o["x"].end].includes(t)||a["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown:function(e){},onTabDown:function(e){a["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown:function(e){e.preventDefault(),this.activateMenu()},selectItem:function(e){a["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems:function(){a["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var e=this;this.$nextTick((function(){e.multiple&&e.internalSearch&&e.isMenuActive||(e.internalSearch=!e.selectedItems.length||e.multiple||e.hasSlot?null:e.getText(e.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy:function(e){var t,i;if(-1!==this.selectedIndex){var n=this.selectedItems[this.selectedIndex],a=this.getText(n);null==(t=e.clipboardData)||t.setData("text/plain",a),null==(i=e.clipboardData)||i.setData("text/vnd.vuetify.autocomplete.item+plain",a),e.preventDefault()}}}})},e328:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("SearchFilter",{directives:[{name:"show",rawName:"v-show",value:!e.showResults,expression:"!showResults"}],on:{search:function(t){return e.showSearchResults(t)}}}),i("SearchListView",{directives:[{name:"show",rawName:"v-show",value:e.showResults,expression:"showResults"}],attrs:{loading:e.loading},on:{"update:loading":function(t){e.loading=t},pageChange:e.showSearchResults,back:function(t){return e.returnBackToFilters()}}})],1)},a=[],r=i("1da1"),s=i("5530"),o=(i("96cf"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-row",[i("v-col",{attrs:{cols:"9"}},[i("v-card",{attrs:{width:"100%"}},[i("v-card-title",[e._v(" Новый шаблон "),i("v-btn",{staticClass:"mx-4",attrs:{depressed:"",color:"primary"},on:{click:function(t){e.showNameField=!0}}},[e._v(" "+e._s(e.btnNameByCurrentSearchExistance)+" ")]),e.showNameField?i("v-text-field",{attrs:{"append-icon":"mdi-content-save",placeholder:"Введите имя шаблона"},on:{"click:append":function(t){return e.saveOrUpdateSearch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveOrUpdateSearch()}},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}):e._e()],1),i("v-form",{ref:"form"},[i("v-card-text",[i("v-combobox",{staticClass:"mb-2",attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Номер извещения"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("notificationNumbers",n)}}},[e._v("mdi-close ")])],1)]}}]),model:{value:e.notificationNumbers,callback:function(t){e.notificationNumbers=t},expression:"notificationNumbers"}}),i("v-combobox",{staticClass:"mb-2",attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Ключевые слова"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("keyword",n)}}},[e._v("mdi-close ")])],1)]}}]),model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("v-combobox",{attrs:{outlined:"",multiple:"","single-line":"","hide-details":"","hide-no-data":"","hide-selected":"","open-on-clear":"",label:"Слова исключения"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item;return[i("v-btn",{staticClass:"mr-1",attrs:{color:"success"}},[e._v(e._s(n)+" "),i("v-icon",{attrs:{right:""},on:{click:function(t){return e.dropItem("exceptionalKeywords",n)}}},[e._v("mdi-close ")])],1)]}}]),model:{value:e.exceptionalKeywords,callback:function(t){e.exceptionalKeywords=t},expression:"exceptionalKeywords"}}),i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-autocomplete",{attrs:{outlined:"",multiple:"",label:"Государственные, коммерческие закупки",items:e.govermentPurchases},model:{value:e.govermentPurchaceList,callback:function(t){e.govermentPurchaceList=t},expression:"govermentPurchaceList"}}),i("v-autocomplete",{attrs:{outlined:"",multiple:"",label:"Этап закупки",items:e.purchasesSteps},model:{value:e.purchaseStepList,callback:function(t){e.purchaseStepList=t},expression:"purchaseStepList"}}),i("v-row",{staticClass:"px-3"},[i("v-autocomplete",{attrs:{loading:e.okpdLoading,"search-input":e.okpdSearch,items:e.okpds,filter:e.okpdFilters,"item-text":"name","item-value":"code",multiple:"",label:"ОКПД2",outlined:""},on:{"update:searchInput":function(t){e.okpdSearch=t},"update:search-input":function(t){e.okpdSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.code)}})],1)]}}]),model:{value:e.okpdList,callback:function(t){e.okpdList=t},expression:"okpdList"}}),i("v-checkbox")],1),i("v-autocomplete",{attrs:{items:e.customers,multiple:"",filter:e.customerFilters,loading:e.customerLoading,"search-input":e.customerSearch,"item-text":"full_name","item-value":"id",label:"Заказчик",outlined:""},on:{"update:searchInput":function(t){e.customerSearch=t},"update:search-input":function(t){e.customerSearch=t}},model:{value:e.customerList,callback:function(t){e.customerList=t},expression:"customerList"}}),i("v-autocomplete",{attrs:{items:e.organizers,multiple:"",filter:e.ogranizerFilters,loading:e.organizerLoading,"search-input":e.organizerSearch,"item-text":"full_name","item-value":"id",label:"Организатор",outlined:""},on:{"update:searchInput":function(t){e.organizerSearch=t},"update:search-input":function(t){e.organizerSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.short_name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.id)}})],1)]}}]),model:{value:e.organizerList,callback:function(t){e.organizerList=t},expression:"organizerList"}}),i("v-row",{staticClass:"px-3"},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-text-field",e._g(e._b({attrs:{outlined:"",max:e.dateTo,label:"От","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menuFrom,callback:function(t){e.menuFrom=t},expression:"menuFrom"}},[i("v-date-picker",{on:{input:function(t){e.menuFrom=!1}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}})],1),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[i("v-text-field",e._g(e._b({attrs:{outlined:"",label:"До","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}},"v-text-field",a,!1),n))]}}]),model:{value:e.menuTo,callback:function(t){e.menuTo=t},expression:"menuTo"}},[i("v-date-picker",{on:{input:function(t){e.menuTo=!1}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1)],1),i("v-radio-group",{attrs:{label:"Ограничение по СМП"},model:{value:e.smpLimitation,callback:function(t){e.smpLimitation=t},expression:"smpLimitation"}},e._l(e.smpLimitations,(function(e){return i("v-radio",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1),i("v-col",{attrs:{cols:"6"}},[i("v-autocomplete",{attrs:{items:e.orderTypes,multiple:"",label:"Способ проведения закупки",outlined:""},model:{value:e.orderTypeList,callback:function(t){e.orderTypeList=t},expression:"orderTypeList"}}),i("v-autocomplete",{attrs:{items:e.regions,multiple:"",label:"Регионы",outlined:""},model:{value:e.regionsList,callback:function(t){e.regionsList=t},expression:"regionsList"}}),i("v-row",{staticClass:"px-3"},[i("v-text-field",{attrs:{outlined:"","prepend-icon":"mdi-currency-rub",label:"От"},model:{value:e.priceFrom,callback:function(t){e.priceFrom=t},expression:"priceFrom"}}),i("v-text-field",{attrs:{"prepend-icon":"mdi-currency-rub",outlined:"",label:"До"},model:{value:e.priceTo,callback:function(t){e.priceTo=t},expression:"priceTo"}}),i("v-checkbox",{attrs:{label:"Без цены"},model:{value:e.hasNoPrice,callback:function(t){e.hasNoPrice=t},expression:"hasNoPrice"}})],1),i("v-autocomplete",{attrs:{items:e.participants,filter:e.partisipantFilters,loading:e.partisipantLoading,"search-input":e.partisipantSearch,"item-text":"name","item-value":"inn",multiple:"",label:"Участники",outlined:""},on:{"update:searchInput":function(t){e.partisipantSearch=t},"update:search-input":function(t){e.partisipantSearch=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),i("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.inn)}})],1)]}}]),model:{value:e.partisipantList,callback:function(t){e.partisipantList=t},expression:"partisipantList"}}),i("v-autocomplete",{attrs:{items:e.winners,multiple:"",label:"Победитель",outlined:""},model:{value:e.winnerList,callback:function(t){e.winnerList=t},expression:"winnerList"}}),i("v-autocomplete",{attrs:{items:e.placements,multiple:"","item-text":"text","item-value":"value",label:"ЭТП",outlined:""},model:{value:e.placementList,callback:function(t){e.placementList=t},expression:"placementList"}}),i("v-checkbox",{attrs:{label:"Исключить мои тендеры"},model:{value:e.exceptMyTenders,callback:function(t){e.exceptMyTenders=t},expression:"exceptMyTenders"}})],1)],1)],1),i("v-card-actions",[i("v-row",{staticClass:"px-3 justify-start"},[i("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.submit()}}},[e._v("Найти "),i("v-icon",{attrs:{right:""}},[e._v("mdi-magnify")])],1)],1),i("v-row",{staticClass:"px-3 justify-end"},[i("v-btn",{attrs:{depressed:""},on:{click:function(t){return e.clear()}}},[e._v("Сбросить")])],1)],1)],1)],1)],1),i("v-col",{attrs:{cols:"3"}},[i("v-card",[i("v-card-title",[e._v(" Шаблоны поиска ")]),i("v-card-text",e._l(e.savedSearchList,(function(t){return i("v-card",{key:t.id,staticClass:"my-2",attrs:{dense:"",outlined:""},on:{click:function(i){return e.setSavedSearch(t)}}},[i("v-card-text",[e._v(" "+e._s(t.name)+" ")]),i("v-card-actions",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,r=n.attrs;return[i("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{size:"20",color:e.getColorByAutoSearchExistance(t)},on:{click:function(i){return e.toggleAutoSearch(t)}}},"v-icon",r,!1),a),[e._v("mdi-magnify ")])]}}],null,!0)},[i("span",[e._v("Нажмите, чтобы включить выключить автопоиск")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,r=n.attrs;return[i("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{size:"20",color:e.getColorByNotificationsExistance(t)},on:{click:function(i){return e.toggleNotifications(t)}}},"v-icon",r,!1),a),[e._v("mdi-bell ")])]}}],null,!0)},[i("span",[e._v("Нажмите, чтобы включить выключить уведомления")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,r=n.attrs;return[i("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{size:"20",color:e.getColorByKeywordsExistance(t)}},"v-icon",r,!1),a),[e._v("mdi-key-variant ")])]}}],null,!0)},[i("span",[i("span",[e._v(e._s(e.getTextByKeywordsExistance(t)))])])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,r=n.attrs;return[i("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{size:"20",color:e.getColorByOkpd2Existance(t)}},"v-icon",r,!1),a),[e._v("mdi-pound ")])]}}],null,!0)},[i("span",[e._v(e._s(e.getTextByOkpd2Existance(t)))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(n){var a=n.on,r=n.attrs;return[i("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{size:"20",color:"error"},on:{click:function(i){return e.dropSearch(i,t.id)}}},"v-icon",r,!1),a),[e._v("mdi-delete ")])]}}],null,!0)},[i("span",[e._v("Удалить шаблон поиска")])])],1)],1)})),1)],1)],1)],1)}),c=[],l=(i("b64b"),i("d81d"),i("c740"),i("a434"),i("b0c0"),i("ac1f"),i("841c"),i("922e")),u=i("c1df"),d=i.n(u),p=i("2f62"),h=500,m=40,v=3,f={data:function(){return{currentSearch:null,showNameField:!1,searchName:"",savedSearchList:[],priceFrom:null,priceTo:null,hasNoPrice:!1,notificationNumbers:[],keyword:[],exceptionalKeywords:[],okpds:[],okpdList:[],okpdLoading:!1,okpdSearch:null,okpdDebouncer:null,govermentPurchases:[],govermentPurchaceList:[],purchasesSteps:[],purchaseStepList:[],organizers:[],organizerList:[],organizerLoading:null,organizerSearch:null,organizerDebouncer:null,customers:[],customerList:[],customerLoading:null,customerSearch:null,customerDebouncer:null,orderTypes:[],orderTypeList:[],regions:[],regionsList:[],participants:[],partisipantList:[],partisipantLoading:null,partisipantSearch:null,partisipantDebouncer:null,winners:[],winnerList:[],placements:[],placementList:[],dateFrom:null,menuFrom:!1,dateTo:null,menuTo:!1,smpLimitations:[],smpLimitation:1,exceptMyTenders:!0}},computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])("app",["user"])),{},{btnNameByCurrentSearchExistance:function(){return this.currentSearch&&Object.keys(this.currentSearch)?"Изменить":"Сохранить"}}),watch:{okpdSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<v)){i.next=2;break}return i.abrupt("return");case 2:t.getOKPD();case 3:case"end":return i.stop()}}),i)})))()},customerSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<v)){i.next=2;break}return i.abrupt("return");case 2:t.getCustomers();case 3:case"end":return i.stop()}}),i)})))()},organizerSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<v)){i.next=2;break}return i.abrupt("return");case 2:t.getOrganizers();case 3:case"end":return i.stop()}}),i)})))()},partisipantSearch:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e&&!(e.length<v)){i.next=2;break}return i.abrupt("return");case 2:t.getParticipants();case 3:case"end":return i.stop()}}),i)})))()}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["r"])(e.user.id);case 2:return i=t.sent,e.savedSearchList=i.data.data,e.dateFrom=d()().subtract(1,"month").format("YYYY-MM-DD"),e.dateTo=d()().add(2,"month").format("YYYY-MM-DD"),t.next=8,e.spreadFieldData();case 8:case"end":return t.stop()}}),t)})))()},methods:{spreadFieldData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r,s,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["h"])();case 2:i=t.sent,n=i.data.data,a=n.etp,r=n.ways,s=n.states,o=n.types,c=n.limits,u=n.regions,e.regions=u,e.orderTypes=r,e.placements=a,e.orderTypes=r,e.purchasesSteps=s,e.smpLimitations=c,e.govermentPurchases=o;case 11:case"end":return t.stop()}}),t)})))()},getOKPD:function(){var e=this;this.okpdLoading||(clearTimeout(this.okpdDebouncer),this.okpdLoading=!0,this.okpdDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["k"])(e.okpdSearch);case 2:i=t.sent,n=i.data.data,e.okpds=e.trimSearchData(n,"name"),e.okpdLoading=!1;case 6:case"end":return t.stop()}}),t)}))),h))},getOrganizers:function(){var e=this;this.organizerLoading||(clearTimeout(this.organizerDebouncer),this.organizerLoading=!0,this.organizerDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["i"])(e.organizerSearch);case 2:i=t.sent,n=i.data.data,e.organizers=e.trimSearchData(n,"short_name"),e.organizerLoading=!1;case 6:case"end":return t.stop()}}),t)}))),h))},getCustomers:function(){var e=this;this.customerLoading||(clearTimeout(this.customerDebouncer),this.customerLoading=!0,this.customerDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["i"])(e.customerSearch);case 2:i=t.sent,n=i.data.data,e.customers=e.trimSearchData(n,"short_name"),e.customerLoading=!1;case 6:case"end":return t.stop()}}),t)}))),h))},getParticipants:function(){var e=this;this.partisipantLoading||(clearTimeout(this.partisipantDebouncer),this.partisipantLoading=!0,this.partisipantDebouncer=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["m"])(e.partisipantSearch);case 2:i=t.sent,n=i.data.data,e.participants=e.trimSearchData(n,"name"),e.partisipantLoading=!1;case 6:case"end":return t.stop()}}),t)}))),h))},trimSearchData:function(e,t){return e.map((function(e){return e[t]&&e[t].length>m&&(e[t]=e[t].substring(0,m)+"..."),e}))},dropItem:function(e,t){var i=this[e].findIndex((function(e){return e===t}));this[e].splice(i,1)},submit:function(){var e=this.winnerList,t=this.notificationNumbers,i=this.keyword,n=this.exceptionalKeywords,a=this.govermentPurchaceList,r=this.purchaseStepList,s=this.organizerList,o=this.customerList,c=this.orderTypeList,l=this.okpdList,u=this.regionsList,d=this.partisipantList,p=this.placementList,h=this.smpLimitation,m=this.exceptMyTenders,v=this.priceFrom,f=this.priceTo,g=this.hasNoPrice,b=this.dateFrom,x=this.dateTo,w={filter:{participant:d,etp:p,price_from:v,price_to:f,state:r,region:u,way:c,organisation:s,date_from:b,date_to:x,ignore:n,type:a,okpd2:l,winnerList:e,notificationNumbers:t,keyword:i,organizerList:s,customerList:o,smpLimitation:h,exceptMyTenders:m,hasNoPrice:g}};this.$emit("search",w)},clear:function(){this.winnerList=[],this.notificationNumbers=[],this.keyword=[],this.exceptionalKeywords=[],this.govermentPurchaceList=[],this.purchaseStepList=[],this.organizerList=[],this.customerList=[],this.orderTypeList=[],this.regionsList=[],this.partisipantList=[],this.placementList=[],this.smpLimitation=1,this.exceptMyTenders=!0,this.priceFrom=null,this.priceTo=null,this.hasNoPrice=!1,this.dateFrom=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),this.dateTo=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},okpdFilters:function(e,t,i){var n=e.code.toLowerCase(),a=e.name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},ogranizerFilters:function(e,t,i){var n=e.full_name.toLowerCase(),a=e.short_name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},customerFilters:function(e,t,i){var n=e.full_name.toLowerCase(),a=e.short_name.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},partisipantFilters:function(e,t,i){var n=e.name.toLowerCase(),a=e.inn.toLowerCase(),r=t.toLowerCase();return n.indexOf(r)>-1||a.indexOf(r)>-1},saveSearch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showNameField=!1,i={partisipantList:e.partisipantList,participants:e.participants,placementList:e.placementList,placements:e.placements,priceFrom:e.priceFrom,priceTo:e.priceTo,purchaseStepList:e.purchaseStepList,purchasesSteps:e.purchasesSteps,regionsList:e.regionsList,regions:e.regions,orderTypeList:e.orderTypeList,orderTypes:e.orderTypes,dateFrom:e.dateFrom,dateTo:e.dateTo,exceptionalKeywords:e.exceptionalKeywords,govermentPurchaceList:e.govermentPurchaceList,govermentPurchases:e.govermentPurchases,okpdList:e.okpdList,okpds:e.okpds,winnerList:e.winnerList,winners:e.winners,notificationNumbers:e.notificationNumbers,keyword:e.keyword,organizerList:e.organizerList,organizers:e.organizers,customers:e.customers,customerList:e.customerList,smpLimitation:e.smpLimitation,exceptMyTenders:e.exceptMyTenders,hasNoPrice:e.hasNoPrice},t.next=4,Object(l["H"])(e.user.id,e.searchName,i);case 4:n=t.sent,e.$notify({type:"success",text:"Шаблон успешно сохранен",title:"Успех!"}),e.savedSearchList.push(n.data.data);case 7:case"end":return t.stop()}}),t)})))()},updateSearch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showNameField=!1,i={partisipantList:e.partisipantList,participants:e.participants,placementList:e.placementList,placements:e.placements,priceFrom:e.priceFrom,priceTo:e.priceTo,purchaseStepList:e.purchaseStepList,purchasesSteps:e.purchasesSteps,regionsList:e.regionsList,regions:e.regions,orderTypeList:e.orderTypeList,orderTypes:e.orderTypes,dateFrom:e.dateFrom,dateTo:e.dateTo,exceptionalKeywords:e.exceptionalKeywords,govermentPurchaceList:e.govermentPurchaceList,govermentPurchases:e.govermentPurchases,okpdList:e.okpdList,okpds:e.okpds,winnerList:e.winnerList,winners:e.winners,notificationNumbers:e.notificationNumbers,keyword:e.keyword,organizerList:e.organizerList,organizers:e.organizers,customers:e.customers,customerList:e.customerList,smpLimitation:e.smpLimitation,exceptMyTenders:e.exceptMyTenders,hasNoPrice:e.hasNoPrice},t.next=4,Object(l["K"])(e.user.id,e.currentSearch.id,e.searchName,i);case 4:n=t.sent,e.$notify({type:"success",text:"Шаблон успешно сохранен",title:"Успех!"}),a=e.savedSearchList.findIndex((function(t){return t.id===e.currentSearch.id})),e.savedSearchList.splice(a,1),e.savedSearchList.push(n.data.data);case 9:case"end":return t.stop()}}),t)})))()},toggleAutoSearch:function(e){console.info(e)},toggleNotifications:function(e){console.info(e)},getTextByKeywordsExistance:function(e){return e.search.keyword.length?"Ключевые слова заданы":"Ключевые слова не заданы"},getTextByOkpd2Existance:function(e){return e.search.okpdList.length?"ОКПД2 заданы":"ОКПД2 не заданы"},getColorByKeywordsExistance:function(e){return e.search.keyword.length?"success":""},getColorByOkpd2Existance:function(e){return e.search.okpdList.length?"success":""},getColorByNotificationsExistance:function(e){return"success"},getColorByAutoSearchExistance:function(e){return"success"},setSavedSearch:function(e){this.currentSearch=e,this.searchName=e.name,this.winnerList=e.search.winnerList,this.notificationNumbers=e.search.notificationNumbers,this.keyword=e.search.keyword,this.exceptionalKeywords=e.search.exceptionalKeywords,this.govermentPurchases=e.search.govermentPurchases,this.govermentPurchaceList=e.search.govermentPurchaceList,this.purchasesSteps=e.search.purchasesSteps,this.purchaseStepList=e.search.purchaseStepList,this.organizers=e.search.organizers,this.organizerList=e.search.organizerList,this.customers=e.search.customers,this.customerList=e.search.customerList,this.orderTypes=e.search.orderTypes,this.orderTypeList=e.search.orderTypeList,this.okpds=e.search.okpds,this.okpdList=e.search.okpdList,this.regions=e.search.regions,this.regionsList=e.search.regionsList,this.participants=e.search.participants,this.partisipantList=e.search.partisipantList,this.placements=e.search.placements,this.placementList=e.search.placementList,this.smpLimitation=e.search.smpLimitation,this.exceptMyTenders=e.search.exceptMyTenders,this.priceFrom=e.search.priceFrom,this.priceTo=e.search.priceTo,this.hasNoPrice=e.search.hasNoPrice,this.dateFrom=e.search.dateFrom,this.dateTo=e.search.dateTo},saveOrUpdateSearch:function(){this.currentSearch&&Object.keys(this.currentSearch)?this.updateSearch():this.saveSearch()},dropSearch:function(e,t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.stopPropagation(),n.next=3,Object(l["d"])(i.user.id,t);case 3:i.$notify({type:"success",text:"Шаблон поиска успешно удален",title:"Успех!"}),a=i.savedSearchList.findIndex((function(e){return e.id===t})),i.savedSearchList.splice(a,1);case 6:case"end":return n.stop()}}),n)})))()}}},g=f,b=i("2877"),x=i("6544"),w=i.n(x),_=i("c6a6"),y=i("8336"),L=i("b0afa"),k=i("99d9"),S=i("ac7c"),T=i("62ad"),C=i("2b5d"),I=i("2e4b"),O=i("4bd4"),D=i("132d"),V=i("5d23"),F=i("e449"),j=i("67b6"),z=i("43a6"),P=i("0fd9"),R=i("8654"),N=i("3a2f"),M=Object(b["a"])(g,o,c,!1,null,null,null),$=M.exports;w()(M,{VAutocomplete:_["a"],VBtn:y["a"],VCard:L["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCheckbox:S["a"],VCol:T["a"],VCombobox:C["a"],VDatePicker:I["a"],VForm:O["a"],VIcon:D["a"],VListItemContent:V["b"],VListItemSubtitle:V["c"],VListItemTitle:V["d"],VMenu:F["a"],VRadio:j["a"],VRadioGroup:z["a"],VRow:P["a"],VTextField:R["a"],VTooltip:N["a"]});var B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-row",[i("v-toolbar",[i("v-btn",{staticClass:"mr-2",attrs:{outlined:"",depressed:""},on:{click:function(t){return e.goBack()}}},[i("v-icon",[e._v("mdi-arrow-left")])],1),i("v-row",{staticClass:"ml-0"},[e._v("Найдено тендеров: "+e._s(e.meta.pagination.total)+" ")])],1)],1),i("v-row",{attrs:{justify:"space-between"}},[i("v-col",{staticClass:"pl-0 pr-1",attrs:{cols:"6"}},[i("v-card",{attrs:{loading:e.loading}},[i("v-card-title",[i("v-row",{attrs:{justify:"center"}},[i("v-pagination",{attrs:{value:e.meta.pagination.current_page,length:e.meta.pagination.total_pages,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right","total-visible":6},on:{input:function(t){return e.updateCurrentPage(t)}}})],1)],1),e._l(e.tenders,(function(t){return i("v-card-text",{key:t.id,on:{click:function(i){return e.openTender(t)}}},[i("v-card",{staticClass:"mb-3 pointer",attrs:{outlined:""}},[i("v-row",{staticClass:"d-flex px-3 justify-space-between pr-4"},[i("v-card-title",{attrs:{width:"80%"}},[i("v-col",{attrs:{cols:"10"}},[e._v(" "+e._s(t.subject)+" ")]),i("v-col",[i("v-icon",{attrs:{color:"amber accent-3"},on:{click:function(i){return e.toggleFav(i,t)}}},[e._v(" "+e._s(t.bookmarked?"mdi-star":"mdi-star-outline")+" ")])],1)],1)],1),t.organisation?i("v-card-subtitle",[e._v(" "+e._s(t.organisation.short_name)+" ")]):e._e(),i("v-card-text",[i("div",[i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-map-marker")]),e._v(" "+e._s(t.region_id)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-file")]),e._v(" N"+e._s(t.placing_way.subsystem_name)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-bank")]),e._v(" "+e._s(e.getShortName(t))+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-gavel")]),e._v(" "+e._s(t.placing_way.type_name)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-content-copy")]),e._v(" "+e._s(t.id)+" ")],1),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[e._v(e._s(t.state.name)+" ")]),i("v-btn",{staticClass:"mr-1 mb-1",attrs:{color:"pimary",outlined:"",depressed:"","x-small":""}},[e._v("закончится "+e._s(e._f("toNow")(t.end_at))+" ")])],1),i("div",{staticClass:"d-flex justify-end"},[i("v-btn",{staticClass:"text-end",attrs:{outlined:"",depressed:"","x-small":""}},[e._v(e._s(t.max_price)+" "),i("v-icon",{attrs:{color:"grey",size:"16"}},[e._v("mdi-currency-rub ")])],1)],1),i("v-divider",{staticClass:"my-2"}),i("v-btn",{attrs:{block:"",depressed:"",disabled:t.isInWork,color:e.getColorByWorkStatus(t)},on:{click:function(i){return e.showModal(t)}}},[e._v(e._s(e.getNameByWorkStatus(t))+" ")])],1)],1)],1)}))],2)],1),i("v-col",{staticClass:"pr-0 pl-1",attrs:{cols:"6"}},[e.activeTender.id?i("v-card",[i("v-card-title",[e._v(" "+e._s(e.activeTender.subject)+" ")]),i("v-card-subtitle",[e._v(" "+e._s(e.activeTender.organisation.short_name)+" ")]),i("v-card-text",[i("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t){return i("v-tab",{key:t.id},[e._v(" "+e._s(t.text)+" ")])})),1),i("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[i("v-tab-item",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v(" Сведения о закупке ")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Наименование: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.activeTender.subject)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Способ проведения: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.activeTender.placing_way.name)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Заказчик: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.activeTender.organisation.short_name)+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Начальная стоимость: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.activeTender.max_price)+" "),i("v-icon",{attrs:{color:"grey",size:"14"}},[e._v("mdi-currency-rub")])],1)],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Статус: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e.activeTender.state.name)+" ")])],1)],1)],1),i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v(" Сведения о сроках ")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Публикация извещения: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e._f("formatDate")(e.activeTender.published_at,"lll"))+" ")])],1),i("v-divider"),i("v-row",[i("v-col",{attrs:{cols:"6"}},[e._v(" Окончание сбора заявок: ")]),i("v-col",{attrs:{cols:"6"}},[e._v(" "+e._s(e._f("formatDate")(e.activeTender.end_at,"lll"))+" ")])],1)],1)],1)],1),i("v-tab-item",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-text",[e.activeTender.events.length?i("div",e._l(e.activeTender.events,(function(t,n){return i("div",{key:n},e._l(t.attachments,(function(n,a){return i("div",{key:a,staticClass:"my-2"},[i("v-icon",{staticClass:"mr-1"},[e._v("mdi-file-word")]),i("a",{attrs:{href:n.href}},[e._v(e._s(t.name))])],1)})),0)})),0):e._e(),e.activeTender.attachments.length?i("div",e._l(e.activeTender.attachments,(function(t){return i("div",{key:t.id,staticClass:"my-2"},[i("v-icon",{staticClass:"mr-1"},[e._v("mdi-file-word")]),i("a",{attrs:{href:t.href}},[e._v(e._s(t.name))])],1)})),0):i("div",[i("h3",{staticClass:"text-center mt-4"},[e._v(" Документация по закупке отсутствует ")])])])],1)],1),i("v-tab-item",[e.activeTender.events.length?i("div",[i("v-card",{attrs:{dense:"",outlined:""}},[i("v-card-title",[e._v("Журнал событий")]),i("v-card-text",e._l(e.activeTender.events,(function(t,n){return i("div",{key:n},[i("div",[e._v(" "+e._s(t.name)+" | "+e._s(e._f("formatDate")(t.published_at,"lll"))+" ")]),i("v-divider")],1)})),0)],1)],1):e._e(),i("h3",{staticClass:"text-center mt-4"},[e._v("События отсутствуют")])])],1)],1),i("v-card-text")],1):i("v-card",[i("v-card-title",[e._v(" Выберите тендер ")]),i("v-card-text")],1)],1)],1),i("AttendResponsible",{attrs:{visible:e.attendResponsibleModal},on:{makeDeal:function(t){return e.makeDeal(t)},close:function(t){e.attendResponsibleModal=!1}}})],1)},A=[],K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-dialog",{attrs:{persistent:"",width:"600px"},on:{"click:outside":function(t){e.show=!1}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[e._v("Назначить исполнителя")])]),i("v-card-text",{staticClass:"py-0 my-0"},[i("v-container",{staticClass:"pa-0 ma-0"},[i("v-autocomplete",{attrs:{items:e.teamUsers,"item-text":"email","item-value":"id",placeholder:"Выберите исполнителя"},model:{value:e.watchedBy,callback:function(t){e.watchedBy=t},expression:"watchedBy"}}),i("v-autocomplete",{attrs:{items:e.teamUsers,"item-text":"email","item-value":"id",placeholder:"Назначить соисполнителей"},model:{value:e.cowatchedBy,callback:function(t){e.cowatchedBy=t},expression:"cowatchedBy"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"primary",attrs:{text:"",depressed:"",large:""},on:{click:function(t){return e.makeDeal()}}},[e._v(" Участвуем ")])],1)],1)],1)},E=[],Y={props:["visible"],data:function(){return{watchedBy:null,cowatchedBy:null}},computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])("tenders",["teamUsers"])),{},{show:{get:function(){return this.visible},set:function(e){e||this.$emit("close")}}}),methods:{makeDeal:function(){if(this.watchedBy){var e={watchedBy:this.watchedBy};this.cowatchedBy.length&&(e.cowatchedBy=this.cowatchedBy),this.$emit("makeDeal",e)}else this.$notify({type:"error",title:"Ошибка!",text:"Вы не назначили исполнителя"})}}},H=Y,W=i("a523"),U=i("169a"),q=i("2fa4"),J=Object(b["a"])(H,K,E,!1,null,null,null),G=J.exports;w()(J,{VAutocomplete:_["a"],VBtn:y["a"],VCard:L["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VContainer:W["a"],VDialog:U["a"],VSpacer:q["a"]});var Q={components:{AttendResponsible:G},props:{loading:{type:Boolean,required:!0}},data:function(){return{bookmarks:[],attendResponsibleModal:!1,tab:null,tabs:[{text:"Информация",id:1},{text:"Документация",id:2},{text:"События",id:3}]}},computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])("tenders",["tenders","meta","activeTender"])),Object(p["b"])("app",["user"])),methods:{goBack:function(){this.$emit("back"),this.$store.dispatch("tenders/resetActiveTenderToDefault")},isCurrentTender:function(e){return!!this.activeTender&&this.activeTender.id===e.id},openTender:function(e){this.$store.commit("tenders/setActiveTender",e),this.tab=null},getShortName:function(e){var t;return null===e||void 0===e||null===(t=e.etp)||void 0===t?void 0:t.short_name},toggleFav:function(e,t){e.stopPropagation(),this.$store.dispatch("tenders/changeBookmarked",t.id)},getColorByWorkStatus:function(e){return e.isInWork?"grey":"primary"},getNameByWorkStatus:function(e){return e.isInWork?e.status:"В работу"},showModal:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$store.commit("tenders/setActiveTender",e),t.attendResponsibleModal=!0;case 2:case"end":return i.stop()}}),i)})))()},makeDeal:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n={teamID:t.user.team_id,tenderID:t.activeTender.id,status:"waiting",watched_by:e.watchedBy,cowatched_by:e.cowatchedBy},i.prev=1,i.next=4,Object(l["J"])(n);case 4:return i.next=6,t.$router.push("/owner/deals");case 6:i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](1),console.info(i.t0);case 11:return i.prev=11,t.attendResponsibleModal=!1,i.finish(11);case 14:case"end":return i.stop()}}),i,null,[[1,8,11,14]])})))()},updateCurrentPage:function(e){this.$store.commit("tenders/setMetaCurrentPage",e),this.$emit("pageChange")}}},X=Q,Z=(i("fce0"),i("ce7e")),ee=i("891e"),te=i("71a3"),ie=i("c671"),ne=i("fe57"),ae=i("aac8"),re=i("71d9"),se=Object(b["a"])(X,B,A,!1,null,null,null),oe=se.exports;w()(se,{VBtn:y["a"],VCard:L["a"],VCardSubtitle:k["b"],VCardText:k["c"],VCardTitle:k["d"],VCol:T["a"],VDivider:Z["a"],VIcon:D["a"],VPagination:ee["a"],VRow:P["a"],VTab:te["a"],VTabItem:ie["a"],VTabs:ne["a"],VTabsItems:ae["a"],VToolbar:re["a"]});var ce={computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])("tenders",["meta","teamUsers"])),Object(p["b"])("app",["user"])),components:{SearchFilter:$,SearchListView:oe},data:function(){return{filters:null,showResults:!1,loading:!1}},methods:{showSearchResults:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.loading=!0,t.filters&&!e||(t.filters=e),i.next=4,t.$store.dispatch("tenders/getTenders",{filters:t.filters,metaData:t.meta});case 4:return i.next=6,t.$store.dispatch("tenders/getTeamUsers",{});case 6:return i.next=8,t.$store.dispatch("tenders/getBookmarked");case 8:t.showResults=!0,t.loading=!1;case 10:case"end":return i.stop()}}),i)})))()},returnBackToFilters:function(){this.showResults=!1,this.resetPagination(),this.filters=null},resetPagination:function(){this.meta.pagination.current_page=1,this.meta.pagination.total_pages=0,this.meta.pagination.total=0}}},le=ce,ue=Object(b["a"])(le,n,a,!1,null,null,null);t["default"]=ue.exports;w()(ue,{VContainer:W["a"]})},fce0:function(e,t,i){"use strict";i("7c66")}}]);